## Веб-сервер

### Клиент-серверная модель:

1. Клиент: Пользователь открывает браузер и отправляет запрос
2. Сервер: Запрос от браузера поступает на веб-сервер для дальнейшей обработки

Наиболее популярен веб сервер `Nginx`.

> Nginx (Engine X, или «Энджин-икс») — это программное обеспечение с открытым исходным кодом для создания веб-серверов. Оно принимает запрос клиента, например браузера, обрабатывает его и возвращает ответ.

[Что такое Nginx](https://skillbox.ru/media/code/server-nginx-kak-on-rabotaet-i-kak-ego-nastroit/)

[Архитектура open source-приложений: Как работает nginx](https://habr.com/ru/companies/latera/articles/273283/)

## WSGI-(Web-Server Gateway Interface)

```python
gateway [ˈɡeɪtweɪ]  - шлюз    `WSGI` (произносится как «whiz-gee» с твердым «g»)
```

Если бэкенд веб-приложения написан на Python, за веб-сервером обычно находится `WSGI-сервер`, который запускает `WSGI`-приложения.

### Компоненты WSGI

`WSGI` описывает способ взаимодействия между веб-сервером и веб-приложением. Между ними также может находиться дополнительный слой — `middleware-компоненты`, которые выполняют вспомогательные функции.

Разберем каждую из этих частей подробнее.

### Веб-сервер

В контексте `WSGI` веб-сервер исполняет роль шлюза между внешним миром (браузерами и другими HTTP-клиентами) и Python-приложением которое:

- принимает `HTTP-запросы`,
- формирует специальный словарь окружения с параметрами запроса
- вызывает Python-приложение, передавая ему управление.

### Веб-приложение

Это основная бизнес-логика, написанная на языке `Python`. В терминах `WSGI` веб-приложение — это Python-объект, реализующий определенный интерфейс. Чаще всего это функция, принимающая два аргумента:

- `environ [ɪnˈvaɪərən - окружение]`— словарь с параметрами запроса и переменными окружения;
- `start_response` — функция обратного вызова, которую приложение должно вызвать перед отправкой тела ответа. С ее помощью передается код статуса (например, 200 OK) и заголовки `HTTP-ответа`.

## Веб-фреймворк

> Фреймворки — библиотеки, задающие готовую структуру приложения.

В эту структуру разработчику нужно только вписывать свои фрагменты кода, при этом сам скелет приложения уже готов к применению. Самые популярные веб-фреймворки для `Python` — это `Django` и `Flask`.

Веб-фреймворки берут на себя много разных задач:

- Выполняют маршрутизацию
- Упрощают работу с заголовками и данными запросов
- Формируют ответы в разных форматах
- Сохраняют истории запросов в файлы для статистики и отладки

## ORM и шаблонизатор

Что же еще находится в бэкенде, кроме обработки запросов? Чаще всего там есть ORM и шаблонизатор.

`ORM (Object-Relational Mapping)` — это средство работы с записями в базах данных, предоставляющие записи в виде понятных для языка программирования объектов.

`Шаблонизатор` — это средство, позволяющее писать `HTML` и `CSS` в отдельных файлах, а затем модифицировать их содержимое из кода так, чтобы верстка отображала нужные данные. Шаблонизатор дает возможность сверстать макет один раз, а потом программно получать из макета разные страницы.

`Django` и некоторые другие веб-фреймворки уже включают в себя `ORM` и `шаблонизатор`.

[Django](https://www.djangoproject.com/)

[Flask](https://flask.palletsprojects.com/en/stable/)
